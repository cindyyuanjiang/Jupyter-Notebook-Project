# Jupyter-Notebook-Project


## Requirements

You will need to install [this library](https://github.com/andrewhead/python-program-analysis/) and modify the relative path to that library in `cell_utils.js`

## Note that part of the files 'analyze_notebooks.js', 'cell_utils.js', 'cell_deps.js', 'graph_visual-4.py' are modified upon the github repository 'https://github.com/jerry-lu/cell-dependencies'

## How to execute

## Run 'node analyze_notebooks your_notebook_dir your_print_mode'
This traverses all notebook files in your_notebook_dir, which is the directory that contains the notebooks you would like to process, and performs a series of analyses on the notebooks. It gets the data flow dependencies information of each notebook at cell level and labels cells with corresponding ML stages, and outputs these information to a .txt file for each notebook. It also collects and print empirical data of the notebook directory like how many notebooks contain cells with multiple ML labels, and so on.

For 'your_print_mode':
- `code` the source code
- `line` the line numbers
- `count` the execution count of the cell
The default is count if no argument is entered.

## Run 'python graph_visual-4.py your_output_file'
The your_output_file is generated by the last command. This command will generate a dependency graph for the cells and cells will be colored according to their labels. It will also output an analysis file for the corresponding notebook, which breaks the notebook into different sections based on the ML stage labelings of the cells.

## Run 'node convert_nb.js your_notebook_file your_analysis_file'
your_notebook_file is the original .ipynb file and your_analysis_file is generated from the last command. This will generate a new notebook(.ipynb) file with a table of contents, the dependency graph, and the orginal notebook's contents. The notebook contents will be broken into sections as from the analysis and each section will be appended with the analysis information. The output .ipynb file might contains cells in a different order from the original notebook file based on the analysis file.
